# はじめに

* ゲームが重たい時の対処法です。
* 特に低スペックの PC やノート PC などに有効です
頻繁にクラッシュするような方も一度目を通してみてください

※ゲームフォルダは Steam のライブラリで、左に並んでるタイトルのKritikaREBOOT を右クリック -> [管理] -> [ローカルファイルを閲覧] で、一発で開けます。

# 目次

- ゲーム内設定

  1.[ラグを改善する最も簡単で効果的な方法](#1ラグを改善する最も簡単で効果的な方法)  
  2.[パーティメンバーのエフェクトを消す、または減らす](#2パーティメンバーのエフェクトを消す、または減らす)  
  3.[ダメージ表示の簡略化](#3ダメージ表示の簡略化)  
  4.[備考](#4備考)

- ゲーム外設定

  1.[FPSを60に固定してフリーズやクラッシュを改善](#1FPSを60に固定してフリーズやクラッシュを改善)  
  2.[解像度の設定が毎回リセットされてしまう問題](#2解像度の設定が毎回リセットされてしまう問題)  
  3.[exeファイルのプロパティを確認](#3exeファイルのプロパティを確認)


# ゲーム内設定

## 1.ラグを改善する最も簡単で効果的な方法

* まずはゲーム内で ESC を押して設定画面を開きます

`ESC -> システム設定 -> グラフィック`

* 最初に一番上の項目の「画像解像度」の数字が自身の使っている PC のモニターと同じ解像度になっているか確認します。デフォルトで同じ解像度になっていると思うのでよくわらない人はそのままでいいです
* 次にその隣の「画面モード」を「フルスクリーン」にします。「ウィンドウモード」は CPU 及び GPU の負荷が高くなるのでやめましょう

* その 2 つを確認したら、少し下の「詳細設定」にある **Lightmap品質** の項目を「なし」にします

PC によってはこれだけで大幅にラグが改善します。とりあえずこれだけ設定して暫く様子を見てください

## 2.パーティメンバーのエフェクトを消す、または減らす

ソロだと問題ないけど、パーティだと重たいんだよねという人向け
* 上記と同じ「詳細設定」の一番下に、 **他キャラクターエフェクト表示可否** という項目があるので、これのチェックを外します

加えて、「詳細設定」の上にある、 **パーティメンバーのエフェクト透明度** という項目のスライダーを左にずらします
* ずらした分だけエフェクト量が減るので軽くなります
上記の項目とは別の部分のエフェクトなので、それぞれ設定しましょう


## 3.ダメージ表示の簡略化

* 設定欄の一番右端にある「UI設定」というタブを開きます。一番上にある **ダメージ情報表示** という項目を「簡素化」に設定します
モンスターに与えたダメージの表記が 537K とか 19M という表示方法に変わります

画面に表示される文字数が大幅に減るため、視界が開けるという意味でも助かります


## 4.備考

これでも重たい人は 「詳細設定」にある他の項目もできる限り、チェックを外しましょう
* ただし、 **テクスチャーサイズ** と **Myキャラクターエフェクト** 及び **エフェクトテクスチャー品質** はいじらない方が無難です。場合によっては表示が崩れたり、まともにゲームがプレイできなくなったりします

あと、まれに「垂直同期化使用」にチェックが入っている場合があるので、ラグを感じるようなら必ずチェックを外しましょう
* このゲームの垂直同期は正しく機能していません。高性能なグラフィックカードを使用している場合に、グラボの負荷を低減する目的でこの設定を[ON]にするとフレームレートがいつも以上に安定しなくなるため、どんな場合でも必ず[OFF]にしておきましょう。どっちにしろFPS60以上で安定するなんてことはありません

# ゲーム外設定

## 1.FPSの上限を60に固定してフリーズやクラッシュを改善

特にレイドで、落ちたり固まったりするという人は以下に記す方法を試してみてください

フォルダパス："C:\Program Files (x86)\Steam\steamapps\common\Kritika\resource\applemain"

この applemain のフォルダの中から以下の 3 つのファイルを探します
* ~\Kritika\resource\applemain
  - ...
  - DefaultHigh.xml
  - DefaultLow.xml
  - DefaultMedium.xml
  - ...

これらのファイルを右クリックして、[メモ帳で開く]を選択。表示されない場合は、[その他のプログラムで開く]から[メモ帳]を探して選択してください

* 開いたら次の一行を探し、 **100** という数字を **60** に書き換えます
```Default*.xml
<ForegroundMaxFrameRate type="float" value="100"/>
```
これを、

```Default*.xml
<ForegroundMaxFrameRate type="float" value="60"/>
```
とします

* 書き換えたら上書き保存(Ctrl+S)してメモ帳を終了してください
* この変更を 3 つ全てのファイルに行います
* これでも重たい場合は、30、15と下げて、挙動を確認してみてください

※FPS値の上限を上げたい場合は、この数値を 150 や 240 等、任意の数字に書き換えてください。ただし、レイドで落ちる確率が増す可能性があります


## 2.解像度の設定が毎回リセットされてしまう問題

モニターと同じ解像度に設定しても、起動するたびに解像度がリセット(変更)されてしまう問題の解決方法です

フォルダパス："C:\Program Files (x86)\Steam\steamapps\common\Kritika"

* ゲームクライアントの実行ファイルが入ってるフォルダです。[はじめに](#はじめに)の方法で簡単に開くことができます
* そこに `option.xml` というファイルがあると思うので探して見てください。

※このファイルではゲーム内の様々な設定ができます。上記同様、このファイルも右クリックからメモ帳で開きます

17 行目に
```option.xml
<Resolution type="int2" value="(1920, 1080 )" />
```

という一文があると思います。見当たらない場合はこれをこのままコピペして、以下の場所に追加してください。(`</Audio>` と `<FXAAenable ~/>` の間)

```option.xml
    </volume>
</Audio>
<Resolution type="int2" value="(1280, 720 )" />
<FXAAEnable type="uint32" value="0" />
<TextureSize type="uint32" value="0" />
```

この`value="(1920, 1080 )"`の数値を、自身が使用しているモニターと同じ解像度に設定します。

### 一般的なノートPCの場合

* `<Resolution type="int2" value="(1366, 768 )" />`

### FHD（フルHD）の場合

* `<Resolution type="int2" value="(1920, 1080 )" />`

### WQHD（2kモニター）の場合

* `<Resolution type="int2" value="(2560, 1440 )" />`

書き換えたら上書き保存(Ctrl+S)してメモ帳を閉じてください。


## 3.`.exe`ファイルのプロパティを確認

[はじめに](#はじめに)の方法でゲームフォルダを開きます
* そこに `KRITIKA_Client.exe` という起動ファイルがあるので、これを右クリックして[プロパティ]を選択します

* [互換性] のタブを開きます
* 下の方にある、「全画面表示の最適化を無効にする」にチェックが入っていた場合、**チェックを外します**

* その下の「管理者としてこのプログラムを実行する」に**チェックを入れます**。

* 次にその下にある「高DPI設定の変更」をクリックします
* 「高DPIスケール設定の上書き」の欄にある「高いDPIスケールの動作を上書きします。」に**チェックを入れます**

OKを押してプロパティを閉じたら、PCを再起動します。
